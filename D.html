<!DOCTYPE html>
<html>
<head>
<script type='text/javascript'>
function init(){
	var canvas = document.getElementById("canvas");
	canvas.width = canvas.getBoundingClientRect().width;
canvas.height = canvas.getBoundingClientRect().height;
    context = canvas.getContext("2d");
    images = new Array();
	images1 = new Array();
	drawImage(localStorage.getItem("JsnDta"));
}
function drawImage(jjsn) {
	var idx=3;
   
    var myObj=JSON.parse(jjsn);
    var leng=myObj.grt.length;
   
   

    if(leng>=400){
    var posi=[1,211,21,231,41,251,61,271,81,291,101,311,121,331,141,351,161,371,181,391,201,11,221,31,241,51,261,71,281,91,301,111,321,131,341,151,361,171,381,191,2,
    	212,22,232,42,252,62,272,82,292,102,312,122,332,142,352,162,372,182,392,202,12,222,32,242,52,262,72,282,92,302,112,322,132,342,152,362,172,382,192,3,213,
    	23,233,43,253,63,273,83,293,103,313,123,333,143,353,163,373,183,393,203,13,223,33,243,53,263,73,283,93,303,113,323,133,343,153,363,173,383,193,4,214,24,
    	234,44,254,64,274,84,294,104,314,124,334,144,354,164,374,184,394,204,14,224,34,244,54,264,74,284,94,304,114,324,134,344,154,364,174,384,194,5,215,25,235,
    	45,255,65,275,85,295,105,315,125,335,145,355,165,375,185,395,205,15,225,35,245,55,265,75,285,95,305,115,325,135,345,155,365,175,385,195,
    	206,16,226,36,246,56,266,76,286,96,306,116,326,136,346,156,366,176,386,196,6,216,26,236,46,256,66,276,86,296,106,316,126,336,146,356,166,376,186,396,207,17,
    	227,37,247,57,267,77,287,97,307,117,327,137,347,157,367,177,387,197,7,217,27,237,47,257,67,277,87,297,107,317,127,337,147,357,167,377,187,397,208,18,228,38,
    	248,58,268,78,288,98,308,118,328,138,348,158,368,178,388,198,8,218,28,238,48,258,68,278,88,298,108,318,128,338,148,358,168,378,188,398,209,19,229,39,249,59,
    	269,79,289,99,309,119,329,139,349,159,369,179,389,199,9,219,29,239,49,259,69,279,89,299,109,319,129,339,149,359,169,379,189,399,210,20,230,40,250,60,270,80,
    	290,100,310,120,330,140,350,160,370,180,390,200,10,220,30,240,50,260,70,280,90,300,110,320,130,340,150,360,170,380,190,400];
         
    	var Qty=0;
        var clr='black';
        for (var i = 0; i < 10; i++) {
        	
    	
        if(clr=='black'){
        clr='gray';
        }else{clr='black';}
        for (var j = 0; j < 20; j++) {
          	
        if(clr=='black'){
        	
        clr='gray';
        }else{
        clr='black';
    	}images[Qty] = new Image();
    	
    	if(Qty>=(leng)){
    	images[Qty].src ="miss.png";
    	   	                     images[Qty].onload = dumb(context, images[Qty],Qty, i, j,Qty,350,350,'Miss Title','Miss Your Messag','Signature',clr);
    	                }
    	                else{
    	                	 var   str_ = myObj.grt[posi[Qty]-1].message;
      	                	  var  result_ = str_.replace(/.{42}\S*\s+/g, "$&@").split(/\s+@/);
    	                	 images[Qty].src =  myObj.grt[posi[Qty]-1].profile_image_url.substr(1).slice(0, -1);
    	             		
    	                     images[Qty].onload = dumb(context, images[Qty],Qty, i, j,Qty,350,350,myObj.grt[Qty].title,result_[0],result_[1],result_[2],myObj.grt[posi[Qty]-1].signature,clr);
    	                }
    				parseInt(Qty+=1);
    }
    }
                        for (var i = 30; i < 40; i++) {
                        	if(clr=='black'){
                        		clr='gray';
                        	}else{
                        		clr='black';
                        	}
                        for (var j = 0; j <20; j++) {
                        	if(clr=='black'){
                        		clr='gray';
                        	}else{
                        		clr='black';
                        	}
                        images[Qty] = new Image();
                        if(Qty>=(leng)){
    	                	 images[Qty].src ="miss.png";
    	             		
    	                     images[Qty].onload = dumb(context, images[Qty],Qty, i, j,Qty,350,350,'Miss Title','Miss Your Messag','Signature',clr);
    	                }
    	                else{
    	               	 var   str_ = myObj.grt[posi[Qty]-1].message;
 	                	  var  result_ = str_.replace(/.{42}\S*\s+/g, "$&@").split(/\s+@/);
	                	 images[Qty].src =  myObj.grt[posi[Qty]-1].profile_image_url.substr(1).slice(0, -1);
	             		
	                     images[Qty].onload = dumb(context, images[Qty],Qty, i, j,Qty,350,350,myObj.grt[Qty].title,result_[0],result_[1],result_[2],myObj.grt[posi[Qty]-1].signature,clr);
	              }  parseInt(Qty+=1);
    }
    }
    images1[0]=new Image();
    images1[0].src = myObj.center_image.substr(1).slice(0, -1);
    images1[0].onload=dumb1(context, images1[0]);
    	 
    	 
     }else{
    	 alert("json incompleated");
     }
    
}
window.onload = init;
function dumb(ctx,img,index,i,j,Qty,wii,hii,title_,msg_,msg_1,msg_2,Sing_,clr){
	return function (){
		 ctx.fillStyle =clr;
		  
		  ctx.strokeRect(i * wii, j * hii, wii, hii);
		  ctx.fillRect(i * wii,j * hii,wii,(hii/100)*10);
		   ctx.textAlign = "center";    
		   ctx.fillStyle = "white";
	      ctx.font =((hii/100)*10)/2+"pt sans-serif";
		  ctx.fillText(title_, (i*wii)+(wii)/2, (j*hii)+(hii*.065));
		  
		  
		  ctx.fillStyle = "black";
	      ctx.font =wii*.03+"pt arial";
		  ctx.fillText(msg_, (i*wii)+(wii/2), (j*hii)+(hii*.16) ); 
		  ctx.fillText(msg_1, (i*wii)+(wii/2), (j*hii)+(hii*.22) ); 
		  ctx.fillText(msg_2, (i*wii)+(wii/2), (j*hii)+(hii*.28) ); 
			 
		 
	  ctx.drawImage(img, (i*wii)+(wii*.2), (j*hii)+(hii*.3), wii*.6, hii*.6);
	  ctx.font ="bold "+wii*.03+"pt arial";
	   ctx.fillText(Sing_, (i*wii)+(wii/2), (j*hii)+(hii*.95) );};
}
function dumb1(ctx,img){
   return function () {
	   ctx.strokeRect(3500, 0 , 7000, 7000);
        context.drawImage(img,3500,0, 7000, 7000); 
    };
}
</script>
</head>
<body>
 

<canvas id="canvas" width="14000px" height="7000px";" ></canvas>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
<form action="Second.html">
	<select onchange="getJson(this.value)" style="position: fixed">
		<option value="1"> Product A</option>
			<option value="2">Product B</option>
				<option value="3">Product C</option>
					<option value="4">Product D</option>
						<option value="5">Product E</option>
	</select><br>
<textarea rows="50" cols="100" id="JsnDta" style="height: 60vh;width: 80%;">
{"center_image":"(383168.jpg)",
    		"grt":[
    	  {"id":"1","title":"Title", "message" :"Message" ,"profile_image_url":"(383168.jpg)","signature":"Dummmmy"},
    	  {"id":"2","title":"Title", "message" :"Message" ,"profile_image_url":"(383168.jpg)","signature":"Dummmmy"},
    	  {"id":"3","title":"Title", "message" :"Message" ,"profile_image_url":"(383168.jpg)","signature":"Dummmmy"},
    	  {"id":"4","title":"Title", "message" :"Message" ,"profile_image_url":"(383168.jpg)","signature":"Dummmmy"},
    	  {"id":"5","title":"Title", "message" :"Message" ,"profile_image_url":"(383168.jpg)","signature":"Dummmmy"},
    	  {"id":"6","title":"Title", "message" :"Message" ,"profile_image_url":"(383168.jpg)","signature":"Dummmmy"},
    	  {"id":"7","title":"Title", "message" :"Message" ,"profile_image_url":"(383168.jpg)","signature":"Dummmmy"},
    	  {"id":"8","title":"Title", "message" :"Message" ,"profile_image_url":"(383168.jpg)","signature":"Dummmmy"},
    	  {"id":"9","title":"Title", "message" :"Message" ,"profile_image_url":"(383168.jpg)","signature":"Dummmmy"},
    	  {"id":"10","title":"Title", "message" :"Message" ,"profile_image_url":"(383168.jpg)","signature":"Dummmmy"},
    	  {"id":"11,"title":"Title", "message" :"Message" ,"profile_image_url":"(383168.jpg)","signature":"Dummmmy"},
    	  {"id":"12","title":"Title", "message" :"Message" ,"profile_image_url":"(383168.jpg)","signature":"Dummmmy"},
    	    {"id:"13","title":"Title", "message" :"Message" ,"profile_image_url":"(383168.jpg)","signature":"Dummmmy"}
    	    ], "product":"A"} 





</textarea>
<input type="button" value="Create Image" onclick="Fn(this);">
</form>

</body>

<script type="text/javascript">
function Fn(a) {
	
	var jsn=document.getElementById('JsnDta').value
     var myObj=JSON.parse(jsn);
	var cond=true;
	console.log(myObj);
	msg="";
	for(var i=0;i<myObj.grt.length;i++){
		
		if((myObj.grt[i].title).length>20){
			cond=false;
			msg+="Length >20 in  Greeting Title at line "+ i+" ";
		}if((myObj.grt[i].message).length>140){
			cond=false;
			msg+="Length >120 in  Greeting Message at line "+ i+"";
		}
		if((myObj.grt[i].signature).length>30){
			cond=false;
			msg+="Length >30 in  Greeting Signature at line "+i+"";
		}
	}
	if(!cond){
		alert(msg);	
	}
	else{
	localStorage.setItem("JsnDta", jsn);
	
	 a.form.submit(); }
	
}
function getJson(a){
	var dta="";
	dtainr="";
	var size=['35','63','99','399','1599'];
   for(var i=0;i<size[a-1];i++){
	 dtainr+="{\"id\": "+i+",\"title\":\"Title\", \"message\" :\"Message\" ,\"profile_image_url\":\"(383168.jpg)\",\"signature\":\"Dummmmy\"},";  
   }
var dta="{\"center_image\":\"(383168.jpg)\",\"grt\":["+dtainr+"  {,\"id\" :"+(parseInt(size[a-1])+1)+"  \"title\":\"Title\", \"message\" :\"Message\" ,\"profile_image_url\":\"(383168.jpg)\",\"signature\":\"Dummmmy\"}   ], \"product_type\":\""+a+"\"} ";
var jsn=document.getElementById('JsnDta').value=dta;
}
</script>
</html>
